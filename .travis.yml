# Copyright (c) 2018 OpenJAX
#
# Permission is hereby granted, free of charge, to any person obtaining a copy
# of this software and associated documentation files (the "Software"), to deal
# in the Software without restriction, including without limitation the rights
# to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
# copies of the Software, and to permit persons to whom the Software is
# furnished to do so, subject to the following conditions:
#
# The above copyright notice and this permission notice shall be included in
# all copies or substantial portions of the Software.
#
# You should have received a copy of The MIT License (MIT) along with this
# program. If not, see <http://opensource.org/licenses/MIT/>.

dist: trusty
language: java
jdk:
- oraclejdk8
- oraclejdk11
install:
- cp settings.xml $HOME/.m2/settings.xml && rm -rf ~/.m2/repository/org/openjax
script:
- 'if [ "$TRAVIS_JDK_VERSION" = "oraclejdk8" ] &&
      [ "$TRAVIS_BRANCH" = "master" ] &&
      [ "$TRAVIS_PULL_REQUEST" = "false" ]; then
    sh -c "$SIGNING_KEY" | $GPG_EXECUTABLE --fast-import &> /dev/null &&
    mvn -e -U -DskipRTests -DrepoToken=$REPO_TOKEN clean deploy -P javadoc,report,deploy;
  else
    mvn -e -U -DskipRTests clean install;
  fi'
cache:
  directories:
    - ~/.m2/repository
env:
  global:
  - secure: eXXHclpN8jFQC6keZM8XfbDLHsZctxmzSBwjkJWNTnjSqcVpybym9aOxOyx9aoPq7w5vmLQcGKlfrrtPX0lQVImdhVs8uL0HBhkq6TvLDUywAlG3PAmjZpl28PXPx7M1uWwns5jwe19vdLDPGKeqeyfeX+yMww8rCX5iL7vvU5v71pYvZKvgMnQblAviA/7dg2d7W1Okd3H3zX/6sYJIUHEJutnizY52WliQMNvP1KfjFD4aPYWSMbxKwOuNkfP9Llycff9P97WXgpHgTLhrCt7SrTCKUAmkf8NGmtrHLWcH+/MXZkhAFRpBPhkiilL3YWPUKcdG1pW16iID13U3DRbgrRdME1OrVNAF1/DFEAHNLqSYPKkzQmjeCBFF/Y9ZXLwQvnXxhqoyq+JTIIpOl4ci/ACNvJ++H3HrzJcd/j9dDbKZP0w11hOlvt8o9+KVuQXzr7RtHhu7YdwvAlNKtZrw+0aIWrRNoP7cIET04YvDYpYp5Lt6dj8bIBAaiCwGTd1pv76mhir3cHyCT+IXkuFSlh1fXbawb05QP5dDLKHfDnC2Gi7GOb4QEBokXe7jrFkU9kbvAacpU275jYpISdzkE5FJPt+/3Fjo8jYblDaZt31z2Tg0pnvuafX8fvJ4j6JKRbvYXjn1a5Z20a+c88VVeKvtYveChwGdx/A5i20=
  - secure: JYaebkyFgVPiAvlpmy3VgMOlteK9XgqhPy8EteEMDQqaQ+OGiYELdej2UtC0XTiBTunGTtzeZmKqp1ups0nIW3i55sTPd5HZRARBVPSLcCanVwTGv7kZGws7VGjdMK9zWE+MfmtgLw6WibM2GZDE1/mMOQOtjAozUNQlwOaARPLl3qjhAPJO3GHeX28skRAVMSZBiJeHqSNG9z5GO+9pPrJubgLH8aRwqFSrXEgq+pmnuzs02QxjT2HD6UwKadU1XKKGyd+CFq/RA/ARku9P8KZlkx+5PcCpmwJD8uJpXVG9QLUyHzHHF88Br8zvXaBjTCT6J7k2J8MkUoQ/NUsn3ENU7QQb8yOvsRZu17mlixq0zDXJB5qEwXdEfaFCam7arYdeMu6zrqTfPMCIjJjD0MGFCQjcDYN2r3U67A+NgE+w787skWMUQjsQFmt9QQYw78N9F9zhEtYVKSGTVoOOUjAeGokzmfKrryjvT9oOrVotkkd8dklvnhtH/aGk0woWvxcmhD8htQI1ni4dkw6CvGWOE6IKZq96NwOlzt98Qs2/ULV0sVWRUcrJBnDZzWTO82cQE+TsVf3Zk/IkwUn2O3f6QfHMMY0810ugqZLG+JRjNapSqf1SZmYBEhOc4HARPinnuU4TIfCtrV9UdvBo1VPGKwuZdfOOA69VAhMBO7Y=
  - secure: aJeggUlWNc8KeEJGtQ2fENQfIwX+8bz+I0GKdtaRF1ugaQBFBF7DHNtV1ce2hEIFRtaqpkj9BY1Jxpa3pNB/4/GIvyRP1NuKZBPcpGJUM5ARvC4ijNTIG6991aXCFC3bp8GyfpTZ4TVlsj7aMugdnHJbpdYAdVWFEEawdN8v9zdXMa9Hyz+UC25DltPN0EPOnFS337s1EhF/FZXOhtR/VFdgSiDQ2lRapIu9dDxksA6qxdJ8jAmJyus1aTW1kimLMBxlDNY7YRXieoYS6tB0Lta3W5ox53mcmLE4lm+9HENIMGY2L1SeKLI9eLYS6IFN4FDbcHhc0vqnlPshn4hQMyrBIxDok+zZn8dEASqraDEKCmiZOzZs+wMMdasPN4ApOoB/XxpqWFJZYUWqmsGedAtAgArN7U+VUPZkCLmxTFf9pNdtkDaAMTUBAcfUe18xfyWTMPg4cxQ8BrbIphzaN8mVmHkiLeVOVACU9kKWVI19PorKoA7/PcA/pScvdyPF0kwkjgpg8Yzh1R6mc03Qr3jltmGuY8KHBIv0ac/PMUSqFX5hqUt32ByfTS3ELCvIg2/AI1rNAHbPVv3kvxjt7Har9a88y3cR1SPzWSC0LyRXooxAbbzJgEehE9NOHH4/a3vrDwF4N6u1eUtjVchFgv8V85KFqP0P1bd38Lt2dwo=
  - secure: OIpzzf9bQkIt7KP9MJ0aA0953turQRE6vIkVJvw0kpWeJiRboZsVl0MbgPKHu/p5FUi0RWwPmHoq85zyYmpyFgiiTGB/IhnLFGhlA5z/Ukdx4KQnQ82/fumStpZSBZT5bmvsXhK9c8aqABJLYXiRsFqanhgr8fhcFHEdgzeeVnWCPdk06KrsQdXAIzK8NGGSDvcSULAkasV/JOWcCWsJwKcOtwdbYTLJoMrgHJewO0yxYOJV6rY95rlEB89q9RwvrWNRaQvgxBikFNbjCr/R3LYGqhbku7NRFVi9cvUkgFbVrcmO1H6q57jd2zizknTmTTOIeniyPGtKd8WDfauRtF+h89tPDlMmfTAq2hTgYUdMzXUHhWdfefcMZH8HDWMeZOixAWg2VVhZGoprunKs2dEmBOrn0NFuPmF3scxcX/n9dk3DGPSOL/0l83gSfiB3l5zhQZPH1/pEjxIpFKScFoq9L7b9fAXfI4eJUSzbti3Rt1ppaWVo3l0KbRANohCl4yR9+j/IbUwxvTyOv72+LoVEvAzPK2pigZA44t6Ov0yNzmB3Sxbv1XO8xzNwMZcu4nZFlna6Ma3S/r+ryA9InqQkggtRMlypjWNmuz20dpiV+uXwsFQIjetRZgxSiHf6AgVgq1+MDrmks/WHUzBWrPFCOyrEwu/dKTOJVPJDK4I=
  - secure: cPZTydSLzNpdfOrtkY96+FeXZx+vGgLf9jkqfCk/0jeamjT9ru8qli77xB83bCxeZBUG3frlfP0YCZuh+1bzEnELhqVzbnUYqDTlseNsgGEmpSQpjIVB0g3kXS1Kl9pjCm3QleiTpvaJhm5gwgxeLBkKHCfMexB2xMpdvxnz+c5sj2Q1FmK9cEuvpDlxn16YFi94HNHJJuzy0sixmdcEIzF1kLCx//yUP0Cm3dn7mi9PvCHCDS+CN8U3mPlhW75iTfPG2nCiQi4AkEq3iDCKV+VUmyUGB82AOpGwYsg/XqpRHiBX97x0RC1YICbCbd35arxiQPFjPj1dcWGdmeU09zj1qZhdCnUywzrv8534Xm97CmldJ87RMGwMgVl8MNiByQRTRr1X8cqnwkod2WHGI4SRjyvmzqoW7F77/s6cLXERlahA8Ly181NMN3sfL4IuIDJM30YSrtm2mfTQpFIDAMOVQOLxAj9mB1r/rfAJvwix/WN9GcVQEIxrBO+hmmGfEtbt98Y7pSeDEk+6M++ChEZh4//b8t9BQK9mRtAMRe3cIrMgI6cd9yAB82hzsTt7tJ1sG22856JL7V/UNvUuJo0BYLmdSCutSBVw9PS/jjciUyT6sHJdcLBhnwpOUXS76ukUmGnrELcyDpW8D9dkvPENzZ1cokay1dCA0w7/EMM=
  - secure: Zi/YYCkrlId25qsfYTsT86upbTUFij0yKr0xsjSTr0I+/Pdm2GOCovPVx70dMCN9Uo+ctR/epuV442UrxAJYTlOmmcpHpVle0vvdEEqdlc2Gf5bBhViD+aq/4d1sUFmCxtH/oARVtbxK2SRaQVpW0TYCtSmf5pEzXI44nlEdrj7/o2oIIVE857XAOTTMFpSK8mNslNYE7GPfZQz2IzC3qpzxbPXn7zdWy8VNxADrjyylzXjKP1tlcXEamlilmWGxnE4nh2SlN6Xa8ChI2ajH+5Qfj8JgtbTJj583J2tgfmPsVerf7gPEpWYpSYyotiRP47CW5P7JBarDNT6TOPp+B/GBL83KXli9EFqqab02CATW6+AFHJcpqEG2lUEcIoYfc4vHbF6uSWe5sXqH0CYh+cyUTK2/BnlDGXPkc/dU98fmVQBxM4VirM7MESousLNZDv1TmHUhAKrmciASxFbWNW5WZfRU4SzbsArRuWSIQ0mxuDJS1beggJ8X344YGIxNV2G7sLigSoBGiN9jkXYdNCjDScPyogmOGXxGU3LE0T1wMAmxy4O1zJozIvU3NDKzXLhTa8rrWDjeIMvnCXEPjKejIfGWzD3TKwIvkkMD36d1t+JmrVBBr1hdC1fyvLcZ5fOEsbOpZxc2qzKZE4vGUI073VqdaKSUZt4V/jCBFY4=
  - secure: XdJ31z0ocQdus2oopm+57Rmw5WB1JC4qieJ4dHltCzknnAssxYy2+v0LbhIp8c+PZ/qBWFGeJIoA5pKNfR4HQY6w5yRkf1EAEPPOGN1+PJsxgu7NwKy9Fml+c+SITBSSKqvXbEzvNz9G3N7rK1Prq1KaKGDU3/UAK9c6xm0NRcGGNHwM5wyQ6qFauCXxoH9HtOJuuFIXLC3AvpIz0Uji3HYqKBi6mXDZSjSg3NLFYHHUjQXXYBXAEffsfT6QKdNf+5RoMP9ifem0WqoBiuvJkrgiORa7gCHZ4ex1LNsk+4E8XpFl2m6nPjSjRe3QEI9pe27T3UFhyFFDNRCI+6FX+eOLIDMN8ieDWesHNp42jqW1w+WLBkMicpWpYqW1lmkzi7XWcXq+LOr51T49rdmeZwKTjfVOcsrXjdEXgrcoKSK7pzRDRaPI0/jxNok4ORpgSZ0FWIBZkyf7XvRONVnIPVagYfE8XEtHkUAR3s/MEisojWYGnmvIywfMhvLCfjNNkJub1QlPrc2XPQloHR7jQ8+PVan9MXTfgFh03E1FmbrGxmQyn1bUS9aVzxn7+ytlTqOge0UoLJNYwOxhJEADl+U6GoG4WxuHrZcFt54SYmN3zxt7tg5LLuLN77ZET5UD8jPQzcFwW9GiRey77F0bANApYj4Hrxy2AeA0hr7VTDM=
