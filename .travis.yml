# Copyright (c) 2018 OpenJAX
#
# Permission is hereby granted, free of charge, to any person obtaining a copy
# of this software and associated documentation files (the "Software"), to deal
# in the Software without restriction, including without limitation the rights
# to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
# copies of the Software, and to permit persons to whom the Software is
# furnished to do so, subject to the following conditions:
#
# The above copyright notice and this permission notice shall be included in
# all copies or substantial portions of the Software.
#
# You should have received a copy of The MIT License (MIT) along with this
# program. If not, see <http://opensource.org/licenses/MIT/>.

language: java
jdk:
- oraclejdk8
- oraclejdk11
install:
- cp settings.xml $HOME/.m2/settings.xml && rm -rf ~/.m2/repository/org/openjax
script:
- 'if [ "$TRAVIS_COMMIT_MESSAGE" = "Update README.md" ]; then
    return;
  elif [ "$TRAVIS_JDK_VERSION" = "oraclejdk8" ] &&
      [ "$TRAVIS_BRANCH" = "master" ] &&
      [ "$TRAVIS_PULL_REQUEST" = "false" ]; then
    sh -c "$SIGNING_KEY" | $GPG_EXECUTABLE --fast-import &> /dev/null &&
    mvn -Dmaven.rtest.skip -DrepoToken=$REPO_TOKEN clean deploy -P deploy;
  else
    mvn -Dmaven.rtest.skip clean install;
  fi'
cache:
  directories:
    - ~/.m2/repository
env:
  global:
  - secure: pzSkHivDGZf5/qhV/8a4RvC+9p9PpWmE5M0w7ma3Tof0tP8+d0xqZaGp7sdTv4NVyrOC+iAigqiZmjhcBfv9uRrJWX/z08/mPqkrVg5oiEDfYolj/6kG4dttbbkaSBYUQvRVuY5gw2JaKNTFHsPTlWdHwegZEwBHXA5eFznI1in1GDfNfZr2NIDEd4riz3q/ZAnE2cOzGNbZI6zlVg979DhrhxJomqUUYTvAC/sy9V2lenQvgWTVbkn1ScLFb+hyr0ePllXmblk6DbM8l5ymm4jvLYjW64sQfwvMpv2rEkb21ju99L1eZ4Id3GecnfylyKIHGBdxlCL276J0WGr00JsoSOEaeerQWHCozEA1AHAGTlmgyQQ7/9jsQwju2tS7HDZmeRe19/rGSS5EwX6bxXV2ICM8e+cfE8XPLb4n+LZxd/Wg2vCiPWkzZCpODdfnxnK/6mEwIiVyw/47m47CwrC33mdvE7kndYhM9lhvZ9wqT6MBB49r/6sFAOyT05S1RjnGzH18+VnszEZ18B2w00t4KIUj8Eqi5HOYlN3xsO8GQm6uMbj/dt2/WRyCQkkVpH/7IEUwvzhsAA3IQhvw1wa0D9XfuBhFtYDZDEXEkZNwTIkTtAtzUvML8JgLOLcLW+Fv5RH1t5EF3EMIVScze/f/7RvGrkfDbcNcscsNI+I=
  - secure: ZbFalxndkoqUwwna5KoKxWLNlq5s6Os/v67fszSXtscMST/6RXEFr6jDW5GaUoiduHDGxL8myjOeNNyh8D8slPzVDiecYpGYZn+/EW5Jv0erY5k24tiRiZtxLPgDMmPG36Vh4FGrIM4ZXmAGKK993LitOooecLkh3EaPuno4GHl6x0X0qoOrbxgMFYnoLCd50SQE4j4ctgRsLJXH419g/uZ+XP3KkGayL6STTZD4zarGvl9SOKfIgooQQ1bKGy9fSx8gLkE6EuiomU5NsGayI3Ch+nWwyWUA3zLqf/CRdfH8zhtVbDf5ik7apjN6nfWjoqENfi202sensOV9K8MMS6lZFLtUjbD/vK9/ZGknvErX5MBFS99Wud2TZp40gbKRzJifdxjxJNhjkBHJswcPc8oHMubySn9VogYqUJ2bosuiy+IMtZP7ex8h1xwmJxE/0Plf7wjMUsdBZT8cl1DemSUlox3jrgCWZQKgYxGmNVwk47bGOh9qQ9ffMRqYRC5ZNEHqaEAg8jYTZbk4vICkEVKjLLprhilciZK1rtyp3vkNp8UmKyXu1s7JeMNv/9A33Z0TwdcSmG1RU3/ypDShUegA3thivB2BVKERk6hAo/bic4A642VBRnvyKZWeFhsbAeRyHjVTodNT4OD6SnF/1j92yZh8Ch7uy2LTMxTKTZs=
  - secure: KYsL/LzltVwZAIxxMMvp0RKCNpV38j/+1rLpzG0aPP0aGOO6N4KE2Ec0pC5+TiIu/RB3QcuZg0FlqIgXrBsMhG8wcIAQ1ubb/cwSIhaN5SKc1EmWHiz6l7NdlywZMbXWF+9tATCPRJS2GlBIIoUR5MAKFF/q6V9iGuLXRtBFzLuuqDYJzF/FWx9epMyA2LQkCzdiHidGu0T5GHhxzJcCTrFEl7GGKTwPEUZ6exomoBezVwvOEa6cEokb2RiMJLBelg6fStqLkrIoGGg+HduC5JLiNbr7jWuLqyUYw+OMej+4XAXS3XhZhUatvZuQmB/IW7RfTK6+IzppsDjLcuL5S5cqGEZ8wBUDz0HbuFhkNr1XERgZ4McnfZnRCIp5DEZz3QCr4XBmjIbt5TDpus1uvBTAAAfIdIXGsO6x5N/kD1QqJfHmGsISxfl42TIka/eTzWUtF3i0jXKd5P2GU1tf9xchp6tj85TtZp2JEY8rY7Rd/Vb53qUk1FY16NBWDSoLVGcbIQT/NonANtlkBr9Tn9uOqscjJfnXITnVdlIZRWV0asBSlQP4t6PGauR+1qC/PYXvB6HDT6dN4XSDlM2u+r9lT/2y34Mvzt/t6NzWLw9V5bxcGBFGuof2axSZBLkGMQ9fNOvqNA9rYctXmORgaagXnDeXsTeVnKvyjYV+9x8=
  - secure: KoGtuSQWOC8fkXSR6ShLyUOISHCdDWfFHYsPoOv34vD6DPE0EsOUDuD/VCei6SOdb5L7XjtrDQaYtk3Zv7k7gYk6r7fTTI+5owOK2yEd29By/8WhhQrvyMDk3OZ0dYOOpU1tkJlTFtL6Ttm6qkYDJ5hOZfAMPcDbZpBOyUziQ02Iu1Z9JaDayPFc4kJL4syK0AWwkKVQiAvjAYuGo3eWD2SMMUVzSbsiOYOnGHu9pBrHK4NGMUmVNeCeJ9EKEZCqh4mPp1ysMfAdSBy5vMJNhltBqQgO8c17h32P9r2FCrGPATZZ5cbdx94fXBu7xqfm50difp6cUXc5uzecBCAUw+RPf/fNzgY3KeGgfqrNOeF14iUnJH9lQnYayDecO62Fez01j9rGV1ji9jMby5w8Sofsl1ATSEZbnmzlEpZUPOCEMArsCoVMeF4Bgp+76vpXYXDagtVTnUTNabebOyL15ULX4ap4uJfue8ZhQJsng95maCLKw0EHoeIFnqxWfABVK/rAYWQlwOIA2lMnd4VeMVq9P2zmiuKFgtrEU5xuscsJMswvBBJljJShU6HL6+yys2E7IASFJjhHO9gSiY1uW1DEOYbOvNLpFJ8VbEfbsObSh+2NsbrNLkGgEZF2ZQYC7hJwQuWYtt/LikQYgUMOjfEASivCyvgZfwHQQfyvy7E=
  - secure: afmdxnmCkTkMWORcVedgouF1F28N1JPtU5mmtvG5jaTxqnYgingHOeEYw4eSnEqeFiudectvaxsBC7/9/lyeJm/zB5+zeXoEbHJRlYtqUnzaPSgCRJdZJd+NeHsaRx8/Fg9IkxHn6TrHlUsUL4LS9h4cmylq0xQWD6IM1Z+yCWTsRu6k6JGULcxa+tcvKi8lPvoyj1GRE9mvigtVvPsz8k3mB0Ug/4jmY07hKz3VS6iBK8O9/DpGbozYd8JAh9AQkulYrInz6QNJDpTDa/N6/nq+u5GFwEAzQZpZaay7M97dulDYppN/3heTFimuFqB5acJzM46/kDfat+X8+xK1ThWFkOWQ7T2MqtkwRgg3TBZfn6ggLEpaYpBS2gvnyXcIEZ45ctbAj6xk87AW4V22vJ5aSdkYXNHx/t5Ae0cs1zL9FuiCJ6N4ESdC7YvaQd1/DpxQieLukUTpeu/WurcJ9Y9AZkTkOYUjyHpx1FOYWqSdNL/bRosiEVq7C4k86kuhSsGTxFkVRBmh3P3o1YzZ/2URGTHkYJU5xOdM1yS+a2WOtYTWvh+3FGm4LVuDWoTDArVFqrKKzQXXqnKpAT2Env2+wMaZ4Dh7HkiAY5BlpcK0/hkq7fWFcvLGRfR34TiVN7I+uzJQTn6TXTs93Cg7GdYqiqE4/VOmWorL/qr4Uoc=
  - secure: hfu+GAhzPHJcRMzuCui1VIcN5Lsol2xGxMb5AGbPAw2WB4+9djIb++UujxZ9QdjrAgYjWKo37Mtd6i/inaY2Rqe8rRUh2IheZwvJlkK2uYhX86YYGOnDmNov4qaxhd4bek/wveLWKwTeWXFGDWr5KYIQnEUZB4y9PnZnJU/IH26f8r1DEkcgV13uHNDuDTP57kKJIQ5LxNflpWAeg3VMe/r0ZIljHHmm1TAzR5VUbVmDwG2qBZSlYPoRemVd8l//1TSEaJRbmmatyaOz7W0tClOiA4mgquzloKEyefbV1kTlDCdinR1Ba4hwWqiY1mT8wRUK7NBMV8eEsOHrVygHdEhdoIr6GldYYKmoRCq35sNuaDosu14Fuuu3Xu+OTGWHGrlwaRZ6zbbjqTOnc1AyNzojFBulawJ1XrfP6i6yAzWiAvsEy0wpsfhtJlarFZ0TNPugt4b1KLLyYtkwO5LKaSlzGOPZA4Ff87izJvLUwwCKEpKJm5kjR0Mqe/gDzZ0ncXBYoYxkZ1z2cPfED1fZ3SAVOxOyFPWaSG0oBDtGuelwz8mydyhd5BzJZQGLF2rNdrfvXwSM7oO0d57oOlo5Wz8mdf7zkG2c1y8J2pazoi5qa/gQ3eW0t+KrKQ+SUg48iXtlCzhzEgl3f6TgRr5Wioa4gaNlEMcdEKvVB474eSs=
  - secure: In5m/eSN8bVhkCQipTYNNbL+bewbztFNdn/l51lfN7N7OUp0A/CnOGVtVOwgaTCdbs4wvvTI1YULlwsVUo5K7/3ih9FL+P7MfnJWj4RlHv0xjjxeTQ7+sQI5JIQ7mfKo1i/ItBPBteeZpkMM5+CZ3EH92DuNm7azE/YPdI+f/Tdcd/o7b0YlvjvfT5hz2h5tvDrftJGWf3tYCVI8/FSL80WLkX7uIOfF4yozlWnBZfephBLiYO7vCFEvez4rLVCrxgdQUGc7lkOtUgzv6/8iWSf8c7ZBv/TCwUAEWFUq5KHubHtWS7J1YdQWji19DQXYCmFBONeG1TT4e12rjkqkmIRui5hrH8XrTB+sw5b538Q4hNqWJeZ40lqLjxzwqwWKAjLNr12QDSuLHvlbI5zg3cCfuj78qbqdUf8Jm9DAB3Hh2zzvUBDm401bIvJugSj3v4kjqkVYg985byfQjdY8Rbj3yLqyZUYYK6k2FtGN0gW9JZfUxyYWaRwSgig2+OUdOpgfFeWxiI23PK5zAI4EUyjqCWxFldqtYQM53yQR96rqtymRdgOqWjzLmM4hMSTeVG+ZQBU0dQ9/a12twYG8uLMQDKs1MowdyYiaQdqoODcXh4aUASljMbylbViasHQwJFWEoxNWGh+WLpyjfWukZM2+FNEdcr0f5DvmFywWamU=
